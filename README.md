# JSON-parser

## Опис проекту

**JSON-parser** — це інструмент для синтаксичного аналізу. Цей парсер призначений для обробки JSON файлів, забезпечуючи ефективну обробку вхідних даних.

## Технічний опис

### Архітектура парсера

ParserHordashko використовує **Pest** для визначення граматики та здійснення синтаксичного аналізу. Основні компоненти парсера включають:

- **Граматика (**`grammar.pest`**)**: Описує правила синтаксису, які парсер використовує для розбору вхідних даних.
```pest
MAIN_BRACKETS = { SOI ~ "{" ~ SPACE* ~ "}" ~ EOI }
SPACE = _{ " " }
```
- **Структура парсера**: Структура Grammar визначена відповідно до правил граматики, описаних у файлі grammar.pest.
Використовує механізми Pest для генерації парсера на основі заданої граматики.
```rust
use pest_derive::Parser;

#[grammar = "./grammar.pest"]
pub struct Grammar;
```

- **Основна функція**: Хоча поточна реалізація основної функції порожня, вона слугує точкою входу для цього парсера.

```rust
fn main() -> anyhow::Result<()> {
    Ok(())
}
```

### Синтаксичний аналіз

Парсер здатний аналізувати різні структури даних, включаючи:

- **Об'єкти з дужками**: Наприклад, `{}` або `{   }`, де допускаються пробіли всередині дужок.

### Тестування

Проект включає детальні тести для перевірки коректності парсера:

- **Тести на коректні дані**: Перевіряють, чи парсер правильно аналізує правильні структури, наприклад `{}`.

```rust
#[test]
fn parse_object_without_whitespace() -> anyhow::Result<()> {
    // Тест на створення дужок без пробілів
    let pair = Grammar::parse(Rule::MAIN_BRACKETS, "{}")?
        .next()
        .ok_or_else(|| anyhow!("no pair"))?;

    assert_eq!(pair.as_str(), "{}");
    Ok(())
}

```

- **Тести на некоректні дані**: Перевіряють, чи парсер правильно виявляє помилки при аналізі неправильних структур, таких як неповні дужки або неправильні роздільники.

```rust
#[test]
fn parse_non_empty_object() {
    // Тест на введення рядка всередині дужок
    let result = Grammar::parse(Rule::MAIN_BRACKETS, "{abc}");
    assert!(result.is_err());

    // Тест на введення чисел всередині дужок
    let result = Grammar::parse(Rule::MAIN_BRACKETS, "{43}");
    assert!(result.is_err());

    // Тест на введення символів пунктуації всередині дужок
    let result = Grammar::parse(Rule::MAIN_BRACKETS, "{.}");
    assert!(result.is_err());
}
```

## Встановлення

Щоб встановити та запустити JSON-parser, виконайте наступні кроки:

1. **Клонування репозиторію**:

   ```bash
   git clone https://github.com/AndreHordd/JSON-parser.git
   cd JSON-parser
   ```

2. **Встановлення залежностей**:

   Переконайтеся, що у вас встановлено Rust.

   ```bash
   cargo build
   ```

3. **Запуск тестів**:

   Для перевірки коректності парсера запустіть тести:

   ```bash
   cargo test
   ```

## Використання

Парсер можна інтегрувати у ваші проекти для обробки структурованих текстових даних. Нижче наведено приклад використання парсера для аналізу простого об'єкта:

```rust
use anyhow::anyhow;
use pest::Parser;
use JSON_parser::*;

fn main() -> anyhow::Result<()> {
    let input = "{   }";
    let pair = Grammar::parse(Rule::MAIN_BRACKETS, input)?
        .next()
        .ok_or_else(|| anyhow!("No match found"))?;
    
    println!("Parsed successfully: {}", pair.as_str());
    Ok(())
}
```
